{% extends "_layout" %}

{% block content %}
<main id="main">
<h1 class="inquiry">Print Inquiry Form</h1>
	<div class="c-row">
		<div class="c-main" id="resize">

{% set entry = craft.entries().id(number).one() %}
{% if entry is defined and entry is not null %}
	{% set image = entry.image.one() %}
	{% if image is defined %}
            <img src="{{ image.getUrl() }}" alt="{{ entry.title }}" class="photograph" data-width="{{ image.getWidth() / 2 }}" data-height="{{ image.getHeight() / 2 }}" />
            <figcaption>{{ entry.title }}</figcaption>
	{% endif %}
{% endif %}
		</div>
		<div class="c-side">

{% macro errorList(errors) %}
    {% if errors %}
        <ul class="errors">
            {% for error in errors %}
                <li>{{ error }}</li>
            {% endfor %}
        </ul>
    {% endif %}
{% endmacro %}

{% set message = message ?? null %}

{% if craft.app.session.hasFlash('notice') %}
<p class="message notice">{{ craft.app.session.getFlash('notice') }}</p>
{% elseif craft.app.session.hasFlash('error') %}
<p class="message error">{{ craft.app.session.getFlash('error') }}</p>
{% endif %}


<form method="post" action="" accept-charset="UTF-8">
    {{ csrfInput() }}
    {{ actionInput('contact-form/send') }}
    {{ craft.contactFormExtensions.recaptcha | raw }}
    
    <input type="hidden" name="message[EntryID]" value="{{ number }}">
    <input type="hidden" name="message[Title]" value="{{ entry.title }}">

    <h4><label for="from-name">Your Name</label></h4>
    {{ input('text', 'fromName', message.fromName ?? '', { id: 'from-name', autocomplete: 'name', }) }}
    {{ message ? _self.errorList(message.getErrors('fromName')) }}
    
    <h4><label for="from-email">Your Email</label></h4>
    {{ input('email', 'fromEmail', message.fromEmail ?? '', { id: 'from-email', autocomplete: 'email',}) }}
    {{ message ? _self.errorList(message.getErrors('fromEmail')) }}
    
    <h4><label for="phone">Your Phone Number</label></h4>
    <input id="phone" type="text" name="message[Phone]" value="">

    <h4>What image size would you like?</h4>
    <select name="message[ImageSize]">
        <option value="——" selected="selected">Please select...</option>
        <option value="11x14">11 x 14</option>
        <option value="16x20">16 x 20</option>
        <option value="20x24">20 x 24</option>
        <option value="24x30">24 x 30</option>
        <option value="30x40">30 x 40</option>
    </select>
    
    <h4>Where will you display the image?</h4>
     <select name="message[ImageLighting]">
         <option value="——" selected="selected">Please select...</option>
         <option value="Home with Art Lighting">Home with Art Lighting</option>
         <option value="Home with Ambient Lighting">Home with Ambient Lighting</option>
         <option value="Business with Art Lighting">Business with Art Lighting</option>
         <option value="Business with AMbient Lighting">Business with Ambient Lighting</option>
         <option value="No Display">No Display</option>
     </select>

   <h4><label for="message">Anything else you'd like me to know?</label></h4>
    <textarea rows="10" cols="40" id="message" name="message[body]">{{ message.message.body ?? '' }}</textarea>
    
    <input type="submit" class="submit" value="Submit Your Inquiry">
</form>

	</div>
	</div>
</main>

{% endblock %}